<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layouts/adminLayout}" layout:fragment="Content">
<head>
    <title>코스 정보 수정</title>
    <link rel="stylesheet" th:href="@{/css/courseModifyDetail.css}">
</head>

<body>
<div class="container">
    <h1>코스 정보 수정</h1>
    
    <form id="courseEditForm">
        <!-- 기본 정보 섹션 -->
        <div class="form-section">
            <div class="section-title">기본 정보</div>
            
            <div class="form-group">
                <label for="courseName">코스명</label>
                <input type="text" id="courseName" name="courseName" class="form-control" th:value="${courseDetail?.courseName}">
            </div>
            
            <div class="form-group">
                <label for="courseTagline">코스 태그라인</label>
                <input type="text" id="courseTagline" name="courseTagline" class="form-control" th:value="${courseDetail?.courseTagline}">
            </div>
            
            <div class="form-group">
                <label for="courseDescription">코스 설명</label>
                <textarea id="courseDescription" name="courseDescription" class="form-control" th:text="${courseDetail?.courseDescription}"></textarea>
            </div>
        </div>
        
        <!-- 일정 정보 섹션 -->
        <div class="form-section">
            <div class="section-title">일정 정보</div>
            
            <div class="form-group">
                <label for="startDate">개강 일자</label>
                <input type="date" id="startDate" name="startDate" class="form-control" th:value="${courseDetail?.startDate}">
            </div>
            
            <div class="form-group">
                <label for="duration">교육 기간</label>
                <input type="text" id="duration" name="duration" class="form-control" th:value="${courseDetail?.duration}">
            </div>
            
            <div class="form-group">
                <label for="classTime">교육 시간</label>
                <input type="text" id="classTime" name="classTime" class="form-control" value="09:00 ~ 17:30(야간 실습실 개방)" readonly>
            </div>
        </div>
        
        <!-- 주요 교과 섹션 -->
        <div class="form-section">
            <div class="section-title">주요 교과</div>
            
            <button type="button" class="btn-add" id="addSubjectButton">
                <span>+ 교과목 추가</span>
            </button>
            
            <div class="input-container" id="subjectInputContainer" style="display: none;">
                <input type="text" id="newSubject" class="form-control input-field" placeholder="교과목 이름을 입력하세요">
                <button type="button" class="add-btn" id="confirmAddSubject">추가</button>
            </div>
            
            <ul class="list-container" id="subjectList">
                <!-- 자바스크립트로 동적 생성 -->
            </ul>
            
            <!-- 숨겨진 필드: 서버로 전송될 데이터 -->
            <input type="hidden" id="subjectsJson" name="subjects">
        </div>
        
        <!-- 로드맵 섹션 -->
        <div class="form-section">
            <div class="section-title">교육 로드맵</div>
            
            <div class="roadmap-container">
                <!-- 1개월차 -->
                <div class="roadmap-month">
                    <h4>1개월차</h4>
                    
                    <button type="button" class="btn-add" id="addMonth1Button">
                        <span>+ 항목 추가</span>
                    </button>
                    
                    <div class="input-container" id="month1InputContainer" style="display: none;">
                        <input type="text" id="newMonth1" class="form-control input-field" placeholder="항목 이름을 입력하세요">
                        <button type="button" class="add-btn" id="confirmAddMonth1">추가</button>
                    </div>
                    
                    <ul class="list-container" id="month1List">
                        <!-- 자바스크립트로 동적 생성 -->
                    </ul>
                    
                    <!-- 숨겨진 필드: 서버로 전송될 데이터 -->
                    <input type="hidden" id="month1Json" name="roadmap[0]">
                </div>
                
                <!-- 2개월차 -->
                <div class="roadmap-month">
                    <h4>2개월차</h4>
                    
                    <button type="button" class="btn-add" id="addMonth2Button">
                        <span>+ 항목 추가</span>
                    </button>
                    
                    <div class="input-container" id="month2InputContainer" style="display: none;">
                        <input type="text" id="newMonth2" class="form-control input-field" placeholder="항목 이름을 입력하세요">
                        <button type="button" class="add-btn" id="confirmAddMonth2">추가</button>
                    </div>
                    
                    <ul class="list-container" id="month2List">
                        <!-- 자바스크립트로 동적 생성 -->
                    </ul>
                    
                    <!-- 숨겨진 필드: 서버로 전송될 데이터 -->
                    <input type="hidden" id="month2Json" name="roadmap[1]">
                </div>
                
                <!-- 3개월차 -->
                <div class="roadmap-month">
                    <h4>3개월차</h4>
                    
                    <button type="button" class="btn-add" id="addMonth3Button">
                        <span>+ 항목 추가</span>
                    </button>
                    
                    <div class="input-container" id="month3InputContainer" style="display: none;">
                        <input type="text" id="newMonth3" class="form-control input-field" placeholder="항목 이름을 입력하세요">
                        <button type="button" class="add-btn" id="confirmAddMonth3">추가</button>
                    </div>
                    
                    <ul class="list-container" id="month3List">
                        <!-- 자바스크립트로 동적 생성 -->
                    </ul>
                    
                    <!-- 숨겨진 필드: 서버로 전송될 데이터 -->
                    <input type="hidden" id="month3Json" name="roadmap[2]">
                </div>
                
                <!-- 4개월차 -->
                <div class="roadmap-month">
                    <h4>4개월차</h4>
                    
                    <button type="button" class="btn-add" id="addMonth4Button">
                        <span>+ 항목 추가</span>
                    </button>
                    
                    <div class="input-container" id="month4InputContainer" style="display: none;">
                        <input type="text" id="newMonth4" class="form-control input-field" placeholder="항목 이름을 입력하세요">
                        <button type="button" class="add-btn" id="confirmAddMonth4">추가</button>
                    </div>
                    
                    <ul class="list-container" id="month4List">
                        <!-- 자바스크립트로 동적 생성 -->
                    </ul>
                    
                    <!-- 숨겨진 필드: 서버로 전송될 데이터 -->
                    <input type="hidden" id="month4Json" name="roadmap[3]">
                </div>
                
                <!-- 5개월차 -->
                <div class="roadmap-month">
                    <h4>5개월차</h4>
                    
                    <button type="button" class="btn-add" id="addMonth5Button">
                        <span>+ 항목 추가</span>
                    </button>
                    
                    <div class="input-container" id="month5InputContainer" style="display: none;">
                        <input type="text" id="newMonth5" class="form-control input-field" placeholder="항목 이름을 입력하세요">
                        <button type="button" class="add-btn" id="confirmAddMonth5">추가</button>
                    </div>
                    
                    <ul class="list-container" id="month5List">
                        <!-- 자바스크립트로 동적 생성 -->
                    </ul>
                    
                    <!-- 숨겨진 필드: 서버로 전송될 데이터 -->
                    <input type="hidden" id="month5Json" name="roadmap[4]">
                </div>
                
                <!-- 6개월차 -->
                <div class="roadmap-month">
                    <h4>6개월차</h4>
                    
                    <button type="button" class="btn-add" id="addMonth6Button">
                        <span>+ 항목 추가</span>
                    </button>
                    
                    <div class="input-container" id="month6InputContainer" style="display: none;">
                        <input type="text" id="newMonth6" class="form-control input-field" placeholder="항목 이름을 입력하세요">
                        <button type="button" class="add-btn" id="confirmAddMonth6">추가</button>
                    </div>
                    
                    <ul class="list-container" id="month6List">
                        <!-- 자바스크립트로 동적 생성 -->
                    </ul>
                    
                    <!-- 숨겨진 필드: 서버로 전송될 데이터 -->
                    <input type="hidden" id="month6Json" name="roadmap[5]">
                </div>
            </div>
        </div>
        
        <!-- 교육 목표 섹션 -->
        <div class="form-section">
            <div class="section-title">교육 목표</div>
            
            <button type="button" class="btn-add" id="addGoalButton">
                <span>+ 교육 목표 추가</span>
            </button>
            
            <div class="input-container" id="goalInputContainer" style="display: none;">
                <input type="text" id="newGoal" class="form-control input-field" placeholder="교육 목표를 입력하세요">
                <button type="button" class="add-btn" id="confirmAddGoal">추가</button>
            </div>
            
            <ul class="list-container" id="goalList">
                <!-- 자바스크립트로 동적 생성 -->
            </ul>
            
            <!-- 숨겨진 필드: 서버로 전송될 데이터 -->
            <input type="hidden" id="goalsJson" name="educationalGoals">
        </div>
        
        <!-- 버튼 영역 -->
        <div class="btn-container">
            <button type="button" class="btn btn-secondary">취소</button>
            <button type="submit" class="btn btn-primary">저장하기</button>
        </div>
    </form>
</div>

<!-- 서버 데이터를 전역 변수로 설정 -->
<script th:inline="javascript">
    window.serverCourseDetail = /*[[${courseDetail}]]*/ {};
</script>

<!-- JavaScript 파일 로드 -->
<script th:src="@{/js/courseModifyDetail.js}"></script>

</body>
</html>